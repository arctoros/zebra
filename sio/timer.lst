                        ; --------------------------------------
                        ; zasm: assemble "timer.asm"
                        ; date: 2025-08-06 15:05:37
                        ; --------------------------------------


                        ;+-- Symbols ---
                        ; Only Port A is hooked up
                        DATA = %00000000
                        CMD	= %00000010
                        ;---
                        
                        ;+-- Reset --- 
0000:                           .org $0000
                        
0000:                   reset:
0000: 3E03     [ 7]     				ld a, %00000011       ; Select WR3
0002: D302     [18]             out (CMD), a
0004: 3EC1     [25]             ld a, %11000001
                        				;      ││     └─────── Rx Enable
                        				;      └┴───────────── 8 bits per character
0006: D302     [36]             out (CMD), a
                        
0008: 3E04     [43]             ld a, %00000100       ; Select WR4
000A: D302     [54]             out (CMD), a
000C: 3E87     [61]             ld a, %10000111
                        				;      │││││││└─────── Parity Enable
                        				;      ││││││└──────── Parity Even
                        				;      ││││└┴───────── 1 Stop Bit
                        				;      ││└┴─────────── Sync Mode Disable
                        				;      └┴───────────── X32 Clock Mode 
000E: D302     [72]             out (CMD), a
                        
0010: 3E05     [79]     				ld a, %00000101       ; Select WR5
0012: D302     [90]             out (CMD), a
0014: 3E68     [97]             ld a, %01101000
                        				;       ││ └────────── Tx Enable
                        				;       └┴──────────── 8 bits per character 
0016: D302     [108]            out (CMD), a 
                        
0018: 00       [112]    				nop
0019: 00       [116]    				nop
001A: 00       [120]    				nop
001B: 00       [124]    				nop
001C: 00       [128]    				nop
                        				
001D: 0B       [134]    				dec bc
001E: 79       [138]       		 	ld a,c
001F: B0       [142]        		or b
0020: C20000   [152|152]   		 	jp nz, reset 
                        				
                        				;ld bc, #0
0023: 3E61     [159]    				ld a, $61
0025: D300     [170]    				out (DATA), a
0027: C30000   [180]    				jp reset
                        ;---
                        
                        ;+-- Subroutines 
                        
                        ;---


; +++ segments +++

#CODE          = $0000 =     0,  size = $002A =    42

; +++ global symbols +++

CMD     = $0002 =     2          timer.asm:4
DATA    = $0000 =     0          timer.asm:3
_end    = $002A =    42          timer.asm:8 (unused)
_size   = $002A =    42          timer.asm:8 (unused)
reset   = $0000 =     0          timer.asm:10


total time: 0.0008 sec.
no errors
