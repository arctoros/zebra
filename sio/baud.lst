                        ; --------------------------------------
                        ; zasm: assemble "baud.asm"
                        ; date: 2025-08-08 11:08:42
                        ; --------------------------------------


                        ;+-- Symbols ---
                        ; Only Port A is hooked up
                        DATA = %00000000
                        CMD	= %00000010
                        ;---
                        
                        ;+-- Reset --- 
0000:                           .org $0000
                        
0000:                   reset:
0000: 3E03     [ 7]     				ld a, %00000011       ; Select WR3
0002: D302     [18]             out (CMD), a
0004: 3EC1     [25]             ld a, %11000001
                        				;      ││     └─────── Rx Enable
                        				;      └┴───────────── 8 bits per character
0006: D302     [36]             out (CMD), a
                        
0008: 3E04     [43]             ld a, %00000100       ; Select WR4
000A: D302     [54]             out (CMD), a
000C: 3E47     [61]             ld a, %01000111
                        				;      │││││││└─────── Parity Enable
                        				;      ││││││└──────── Parity Even
                        				;      ││││└┴───────── 1 Stop Bit
                        				;      ││└┴─────────── Sync Mode Disable
                        				;      └┴───────────── X16 Clock Mode 
000E: D302     [72]             out (CMD), a
                        
0010: 3E05     [79]     				ld a, %00000101       ; Select WR5
0012: D302     [90]             out (CMD), a
0014: 3E68     [97]             ld a, %01101000
                        				;       ││ └────────── Tx Enable
                        				;       └┴──────────── 8 bits per character 
0016: D302     [108]            out (CMD), a 
                        
0018: 3E48     [115]    				ld a, $48
001A: D300     [126]        		out (DATA), a
                        
001C:                   loop:
001C: DB02     [11]     				in a, (CMD)
001E: E604     [18]     				and %00000100
0020: CA1C00   [28|28]     		 	jp z, loop 
                        		
0023: 3E48     [35]     				ld a, $48
0025: D300     [46]     				out (DATA), a
0027: C31C00   [56]     				jp loop 
                        ;---
                        
                        ;+-- Subroutines 
                        
                        ;---


; +++ segments +++

#CODE          = $0000 =     0,  size = $002A =    42

; +++ global symbols +++

CMD     = $0002 =     2          baud.asm:4
DATA    = $0000 =     0          baud.asm:3
_end    = $002A =    42          baud.asm:8 (unused)
_size   = $002A =    42          baud.asm:8 (unused)
loop    = $001C =    28          baud.asm:38
reset   = $0000 =     0          baud.asm:10 (unused)


total time: 0.0007 sec.
no errors
